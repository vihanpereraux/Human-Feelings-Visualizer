<!DOCTYPE html>
<html lang="en">

<head>
    <title>Human Connections</title>

    <link rel="stylesheet" href="assets/css/styles.css">

    <script src="libraries/p5.min.js"></script>
    <script src="libraries/p5.sound.min.js"></script>
</head>

<body>
    <!-- loader -->
    <div id="loader-circle"></div>

    <canvas id="glcanvas" width="100vw" height="100vh" tabindex="1"></canvas>
    <script type="text/javascript" src="js/patch.js" async></script>
    

    <script>
        // disable rubberband effect on mobile devices
        document.getElementById('glcanvas').addEventListener('touchmove', (e)=>{ e.preventDefault(); }, false);


        function patchInitialized(patch) {
            // You can now access the patch object (patch), register variable watchers and so on
        }

        function patchFinishedLoading(patch) {
            // The patch is ready now, all assets have been loaded
        }

        document.addEventListener('CABLES.jsLoaded', function (event) {
            CABLES.patch = new CABLES.Patch({
                patch: CABLES.exportedPatch,
                "prefixAssetPath": "",
                "assetPath": "assets/",
                "jsPath": "js/",
                "glCanvasId": "glcanvas",
                "glCanvasResizeToWindow": true,
                "onPatchLoaded": patchInitialized,
                "onFinishedLoading": patchFinishedLoading,
                "canvas":{"alpha":true,"premultipliedAlpha":true} // make canvas transparent
            });
        });
    
        const date = new Date();
        var weekday = date.toLocaleString("default", { weekday: "long" });

        document.getElementById('day').innerText = weekday; 
        if(date.getMonth()+1 < 10 || date.getDay() < 10){
            document.getElementById('month').innerText = ( "0" + parseInt(date.getMonth()+1)) + " . " + "0" + date.getDate();
        }
        else{
            document.getElementById('month').innerText = date.getMonth() + date.getDate();
        } 
        document.getElementById('year').innerText = date.getFullYear();
    </script>

    <script src="sketch.js"></script>
</body>

</html>
